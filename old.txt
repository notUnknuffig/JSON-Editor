 global json_file

def findObject(file_data):
    print("Enter the path to what should be changed. Use a number for indexes and * for all indexes of an array. Use a string for a key and $ for all keys of a dictionary.")
    value_path = input("Enter a value path: ").split()
    if "*" in value_path or "$" in value_path:
        pass
    else:
        try:
            pass
        except (IndexError, ValueError):
            pass
        except (IndexError, ValueError):
            pass
 
#Main()
 print("JSON-File Structorizor:")
    file_path = input("Enter a file path, if the file path is a directory, create a json file within it: ") 
    if os.path.isfile(file_path):
        json_file_path = file_path
    elif os.path.isdir(file_path):
        filename = input("Enter the filename (without extension): ")
        if not filename:
            print("Filename cannot be empty.")
            return
        
        json_file_path = os.path.join(file_path, f"{filename}.json")
        if os.path.exists(json_file_path):
            print(f"A file with the name '{filename}.json' already exists in the directory.")
            return
        
        print(f"JSON file '{filename}.json' created in '{file_path}'.")
    else:
        print("Provided file path is not a directory.")
        return

    with open(json_file_path, 'r') as json_file:
            file_data = json.load(json_file)

    findObject(file_data)

    # Create new JSON structure input: "array int_len" -> Input: "dict key_1 key_2 key_3..."
    # Add key blah blah blah...
    # Add Value input: {Type} str {Value} Hallo Welt! ; {Type} array {Array-Type} str 'item_1' 'item_2' 'item_3' 'item_4'... ; {Type} num 257.5125
    print("Possible Operations: 'create'-> Create a new JSON structure; 'add-key' -> add a new key to an exsisitng dictionary; 'fill-value' -> set a new value for a given key; get_struct shows all the structure of the Json file.")

#dict

    sub_layer = ""
                sub_struct = _struct[i][1]
                k = 0
                while k < len(sub_struct): 
                    new_sub_layer = ""
                    if(sub_struct[k][0] == 'a'):
                        new_sub_layer = '['
                        sub_a_length = int(sub_struct[i][1])
                        for kj in range(sub_a_length):
                            new_sub_layer += 'c,'
                        new_sub_layer = new_sub_layer[:-1]
                        new_sub_layer += ']'
                    else:
                        new_sub_layer = "'" + sub_struct[k] + "'"



def createStruct(_struct):

    _json = 'c' #c = Current

    i = 0
    while i < len(_struct): 
        new_layer = ""
        if(_struct[i][0] == 'a'):
            new_layer = '['
            a_length = int(_struct[i][1])
            for j in range(a_length):
                new_layer += 'c,'
            new_layer = new_layer[:-1]
            new_layer += ']'

        elif(_struct[i][0] == 'd'):
            new_layer = '{'
            d_length = int(_struct[i][1])
            i += 1
            for j in range(d_length):
                new_layer += '"' + _struct[i][0] + '":'
                new_sub_layer = ""
                if(_struct[i][1] == 'a'):
                    new_sub_layer = '['
                    sub_a_length = int(_struct[i][2])
                    for jj in range(sub_a_length):
                        new_sub_layer += '"*",'
                    new_sub_layer = new_sub_layer[:-1]
                    new_sub_layer += '],'
                else:
                    new_sub_layer = '"*",'
                new_layer += new_sub_layer
                i += 1
            new_layer = new_layer[:-1]
            new_layer += '}'
        else: 
            new_layer = '"*"'
        i += 1
        _json = _json.replace('c', new_layer)
        _json = fillData(_json)
    l_json = json.loads(_json)
    return l_json